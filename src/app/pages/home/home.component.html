<div class="page-container" [@pageLoadAnimation] [@routeAnimations]>
  @if (isLoaded) {
  <div class="content-wrapper">
    <div class="text-content">
      <!-- Hero Section Component -->
      <app-hero-section
        [profile]="profile"
        [socialLinks]="componentState.socialLinks"
        [icons]="icons"
        (socialLinkClick)="onSocialLinkClick($event)"
      ></app-hero-section>

      <!-- Portfolio Tabs Component -->
      <app-portfolio-tabs
        [tabs]="tabs"
        [activeTab]="activeTab"
        (tabChange)="switchTab($event)"
      >
        <!-- About Me Tab -->
        @if (isActiveTab('about')) {
        <div
          id="about-panel"
          role="tabpanel"
          [attr.aria-labelledby]="'about-tab'"
          class="tab-panel about-panel"
        >
          <app-about-me
            [aboutMe]="aboutMe"
            [getHighlightedText]="getHighlightedText.bind(this)"
          ></app-about-me>
        </div>
        }

        <!-- Experience Tab -->
        @if (isActiveTab('experience')) {
        <div
          id="experience-panel"
          role="tabpanel"
          [attr.aria-labelledby]="'experience-tab'"
          class="tab-panel experience-panel"
        >
          <app-experience [experienceData]="experienceData"></app-experience>
        </div>
        }

        <!-- Education Tab -->
        @if (isActiveTab('education')) {
        <div
          id="education-panel"
          role="tabpanel"
          [attr.aria-labelledby]="'education-tab'"
          class="tab-panel education-panel"
        >
          <app-education [educationData]="educationData"></app-education>
        </div>
        }

        <!-- Skills Tab -->
        @if (isActiveTab('skills')) {
        <div
          id="skills-panel"
          role="tabpanel"
          [attr.aria-labelledby]="'skills-tab'"
          class="tab-panel skills-panel"
        >
          <app-skills [skillsData]="skillsData"></app-skills>
        </div>
        }

        <!-- Certifications Tab -->
        @if (isActiveTab('certifications')) {
        <div
          id="certifications-panel"
          role="tabpanel"
          [attr.aria-labelledby]="'certifications-tab'"
          class="tab-panel certifications-panel"
        >
          <app-certifications [certificationsData]="certificationsData"></app-certifications>
        </div>
        }
      </app-portfolio-tabs>
    </div>
  </div>
  } @else {
  <div
    class="component-loading"
    role="status"
    aria-label="Loading page content"
  >
    <div class="loading-spinner" [attr.aria-hidden]="true"></div>
    <span class="sr-only">Loading page content...</span>
  </div>
  }
</div>
